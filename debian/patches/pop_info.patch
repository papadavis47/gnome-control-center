Description: <short summary of the patch>
 TODO: Put a short summary on the line above and replace this paragraph
 with a longer explanation of this change. Complete the meta-information
 with other relevant fields (see below for details). To make it easier, the
 information below has been extracted from the changelog. Adjust it or drop
 it.
 .
 gnome-control-center (1:3.30.2-1ubuntu0.18.10.2pop1) cosmic; urgency=medium
 .
   * Rebase on upstream
     - Delete the whoopsie patch
     - Add System76's HiDPI daemon integration
     - Enable sound over 100% for Pop
Author: Michael Aaron Murphy <michael@system76.com>

---
The information above should follow the Patch Tagging Guidelines, please
checkout http://dep.debian.net/deps/dep3/ to learn about the format. Here
are templates for supplementary fields that you might want to add:

Origin: <vendor|upstream|other>, <url of original patch>
Bug: <url in upstream bugtracker>
Bug-Debian: https://bugs.debian.org/<bugnumber>
Bug-Ubuntu: https://launchpad.net/bugs/<bugnumber>
Forwarded: <no|not-needed|url proving that it has been forwarded>
Reviewed-By: <name and email of someone who approved the patch>
Last-Update: 2019-02-05

--- gnome-control-center-3.30.2.orig/panels/info/cc-info-overview-panel.c
+++ gnome-control-center-3.30.2/panels/info/cc-info-overview-panel.c
@@ -25,6 +25,7 @@
 
 #include "cc-info-resources.h"
 #include "info-cleanup.h"
+#include "list-box-helper.h"
 
 #include <glib.h>
 #include <glib/gi18n.h>
@@ -46,9 +47,10 @@
 #include <gdk/gdkx.h>
 #endif
 
-#include "gsd-disk-space-helper.h"
-
 #include "cc-info-overview-panel.h"
+#include "dmi-info.h"
+#include "firmware-upgrade.h"
+#include "gsd-disk-space-helper.h"
 
 
 typedef struct {
@@ -70,6 +72,13 @@ typedef struct
   GtkWidget      *virt_type_label;
   GtkWidget      *updates_button;
 
+  /* Pop fields */
+  GtkWidget      *computer_label;
+  GtkWidget      *model_label;
+  GtkWidget      *os_upgrade_button;
+  GtkWidget      *os_refresh_button;
+  GtkWidget      *firmware_button;
+
   /* Virtualisation labels */
   GtkWidget      *label8;
   GtkWidget      *grid1;
@@ -94,6 +103,9 @@ struct _CcInfoOverviewPanel
 
   /*< private >*/
  CcInfoOverviewPanelPrivate *priv;
+
+ // Pop-specific
+ GtkWidget *os_upgrades_listbox;
 };
 
 static void get_primary_disc_info_start (CcInfoOverviewPanel *self);
@@ -776,7 +788,22 @@ info_overview_panel_setup_overview (CcIn
       gtk_label_set_text (GTK_LABEL (priv->version_label), text);
     }
 
-  glibtop_get_mem (&mem);
+  // Pop-specific details
+
+  GtkSizeGroup *button_group = gtk_size_group_new (GTK_SIZE_GROUP_HORIZONTAL);
+  gtk_size_group_add_widget (button_group, priv->os_upgrade_button);
+  gtk_size_group_add_widget (button_group, priv->os_refresh_button);
+  gtk_size_group_add_widget (button_group, priv->firmware_button);
+
+  g_autofree char *computer_text = get_product_name ();
+  gtk_label_set_text (GTK_LABEL (priv->computer_label), computer_text ? computer_text : "");
+
+  g_autofree char *model_text = get_product_version ();
+  gtk_label_set_text (GTK_LABEL (priv->model_label), model_text ? model_text : "");
+
+  // End of Pop-specific details
+
+  glibtop_get_mem(&mem);
   memory_text = g_format_size_full (mem.total, G_FORMAT_SIZE_IEC_UNITS);
   gtk_label_set_text (GTK_LABEL (priv->memory_label), memory_text ? memory_text : "");
 
@@ -863,6 +890,39 @@ cc_info_overview_panel_finalize (GObject
 }
 
 static void
+pop_refresh (GObject *gobject, GParamSpec *pspec, CcInfoOverviewPanel *self)
+{
+  printf("refreshing\n");
+}
+
+static void
+pop_upgrade (GObject *gobject, GParamSpec *pspec, CcInfoOverviewPanel *self)
+{
+  printf("upgrading\n");
+}
+
+static void
+pop_reboot (GtkButton *button, GtkDialog *dialog) {
+  printf("rebooting\n");
+  gtk_dialog_response(dialog, GTK_RESPONSE_CLOSE);
+}
+
+static void
+pop_firmware_upgrade (GObject *gobject, GParamSpec *pspec, CcInfoOverviewPanel *self)
+{
+  FirmwareUpdateDialog dialog = firmware_dialog_new ("1.0", "\t* Thing 1\n\t* Thing 2");
+  firmware_dialog_connect_reboot (&dialog, G_CALLBACK (pop_reboot));
+  firmware_dialog_run (&dialog);
+}
+
+static void
+setup_listbox (CcInfoOverviewPanel *self,
+               GtkWidget       *listbox)
+{
+  gtk_list_box_set_header_func (GTK_LIST_BOX (listbox), cc_list_box_update_header_func, NULL, NULL);
+}
+
+static void
 cc_info_overview_panel_class_init (CcInfoOverviewPanelClass *klass)
 {
   GObjectClass *object_class = G_OBJECT_CLASS (klass);
@@ -888,6 +948,17 @@ cc_info_overview_panel_class_init (CcInf
   gtk_widget_class_bind_template_child_private (widget_class, CcInfoOverviewPanel, grid1);
   gtk_widget_class_bind_template_child_private (widget_class, CcInfoOverviewPanel, label18);
 
+  // Pop!_OS-specific changes
+  gtk_widget_class_bind_template_child_private (widget_class, CcInfoOverviewPanel, computer_label);
+  gtk_widget_class_bind_template_child_private (widget_class, CcInfoOverviewPanel, model_label);
+  gtk_widget_class_bind_template_child_private (widget_class, CcInfoOverviewPanel, os_upgrade_button);
+  gtk_widget_class_bind_template_child_private (widget_class, CcInfoOverviewPanel, os_refresh_button);
+  gtk_widget_class_bind_template_child_private (widget_class, CcInfoOverviewPanel, firmware_button);
+  gtk_widget_class_bind_template_child (widget_class, CcInfoOverviewPanel, os_upgrades_listbox);
+  gtk_widget_class_bind_template_callback (widget_class, pop_refresh);
+  gtk_widget_class_bind_template_callback (widget_class, pop_upgrade);
+  gtk_widget_class_bind_template_callback (widget_class, pop_firmware_upgrade);
+
   g_type_ensure (CC_TYPE_HOSTNAME_ENTRY);
 }
 
@@ -909,6 +980,9 @@ cc_info_overview_panel_init (CcInfoOverv
 
   info_overview_panel_setup_overview (self);
   info_overview_panel_setup_virt (self);
+
+  // Pop-specific
+  setup_listbox (self, self->os_upgrades_listbox);
 }
 
 GtkWidget *
--- /dev/null
+++ gnome-control-center-3.30.2/panels/info/dmi-info.c
@@ -0,0 +1,18 @@
+#include <dmi-info.h>
+#include <glib.h>
+#include <glib/gstdio.h>
+
+static char *get_sys_info (gchar *path) {
+  g_autofree gchar *buffer = NULL;
+  return g_file_get_contents (path, &buffer, NULL, NULL)
+    ? g_strdup (g_strstrip (buffer))
+    : NULL;
+}
+
+char *get_product_name (void) {
+  return get_sys_info ("/sys/class/dmi/id/product_name");
+}
+
+char *get_product_version (void) {
+  return get_sys_info ("/sys/class/dmi/id/product_version");
+}
--- /dev/null
+++ gnome-control-center-3.30.2/panels/info/dmi-info.h
@@ -0,0 +1,2 @@
+char *get_product_name (void);
+char *get_product_version (void);
--- /dev/null
+++ gnome-control-center-3.30.2/panels/info/firmware-upgrade.c
@@ -0,0 +1,66 @@
+#include <firmware-upgrade.h>
+#include <glib.h>
+#include <glib/gi18n.h>
+
+static void cancel_dialog (GtkButton *button, GtkDialog *dialog);
+
+FirmwareUpdateDialog firmware_dialog_new (char *version, char *features) {
+  GtkLabel *title = (GtkLabel*) gtk_label_new ("<b>Firmware Update</b>");
+  gtk_label_set_use_markup (title, TRUE);
+
+  GtkLabel *text = (GtkLabel*) gtk_label_new (
+    g_strdup_printf (_("Firmware version %s is available. Fixes and features"
+      " include:\n\n%s\n\nIf you're on a laptop, <b>plug into power</b>"
+      " before you begin."), version, features)
+  );
+
+  gtk_label_set_line_wrap (text, TRUE);
+  gtk_label_set_use_markup (text, TRUE);
+  gtk_widget_set_valign (GTK_WIDGET (text), GTK_ALIGN_START);
+
+  GtkWidget *icon = gtk_image_new_from_icon_name ("application-x-cd-image", 6);
+  gtk_widget_set_valign (GTK_WIDGET (icon), GTK_ALIGN_START);
+
+  GtkDialog *dialog = (GtkDialog*) g_object_new (GTK_TYPE_DIALOG,
+                                    "use-header-bar", TRUE,
+                                    NULL);
+
+  GtkButton *cancel = GTK_BUTTON (gtk_button_new_with_label ("Cancel"));
+  g_signal_connect(cancel, "clicked", G_CALLBACK (cancel_dialog), dialog);
+
+  GtkButton *reboot = GTK_BUTTON (gtk_button_new_with_label ("Reboot and Install"));
+  gtk_style_context_add_class (
+    gtk_widget_get_style_context ((GtkWidget*) reboot),
+    GTK_STYLE_CLASS_DESTRUCTIVE_ACTION
+  );
+
+  GtkHeaderBar *header = GTK_HEADER_BAR (gtk_dialog_get_header_bar (dialog));
+  gtk_header_bar_set_custom_title (header, GTK_WIDGET (title));
+  gtk_header_bar_set_show_close_button (header, FALSE);
+  gtk_header_bar_pack_start (header, GTK_WIDGET (cancel));
+  gtk_header_bar_pack_end (header, GTK_WIDGET (reboot));
+
+  GtkContainer *box = GTK_CONTAINER (gtk_dialog_get_content_area (dialog));
+  gtk_orientable_set_orientation (GTK_ORIENTABLE (box), GTK_ORIENTATION_HORIZONTAL);
+  gtk_container_set_border_width (box, 12);
+  gtk_container_add (box, GTK_WIDGET (icon));
+  gtk_container_add (box, GTK_WIDGET (text));
+
+  g_signal_connect_swapped (dialog, "response", G_CALLBACK(gtk_widget_destroy), dialog);
+  gtk_widget_show_all (GTK_WIDGET (dialog));
+
+  FirmwareUpdateDialog firmware_dialog = { reboot, dialog };
+  return firmware_dialog;
+}
+
+void firmware_dialog_connect_reboot (FirmwareUpdateDialog *dialog, GCallback callback) {
+  g_signal_connect (dialog->reboot, "clicked", callback, dialog->dialog);
+}
+
+int firmware_dialog_run (FirmwareUpdateDialog *dialog) {
+  return gtk_dialog_run (dialog->dialog);
+}
+
+static void cancel_dialog (GtkButton *button, GtkDialog *dialog) {
+  gtk_dialog_response (dialog, GTK_RESPONSE_CANCEL);
+}
--- /dev/null
+++ gnome-control-center-3.30.2/panels/info/firmware-upgrade.h
@@ -0,0 +1,33 @@
+/* -*- mode: C; c-file-style: "gnu"; indent-tabs-mode: nil; -*-
+ *
+ * Copyright (C) 2019 System76
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, see <http://www.gnu.org/licenses/>.
+ *
+ */
+
+#include <glib.h>
+#include <glib-object.h>
+#include <gobject/gvaluecollector.h>
+#include <gtk/gtk.h>
+
+typedef struct {
+    GtkButton *reboot;
+    GtkDialog *dialog;
+} FirmwareUpdateDialog;
+
+FirmwareUpdateDialog firmware_dialog_new (char *version, char *features);
+void firmware_dialog_connect_reboot (FirmwareUpdateDialog *dialog, GCallback callback);
+int firmware_dialog_run (FirmwareUpdateDialog *dialog);
+
--- gnome-control-center-3.30.2.orig/panels/info/info-overview.ui
+++ gnome-control-center-3.30.2/panels/info/info-overview.ui
@@ -69,6 +69,67 @@
                 <property name="left-attach">1</property>
               </packing>
             </child>
+            <!-- Computer details -->
+            <child>
+              <object class="GtkLabel">
+                <property name="visible">True</property>
+                <property name="can_focus">False</property>
+                <property name="xalign">1</property>
+                <property name="label" translatable="yes">Computer</property>
+                <property name="mnemonic_widget">computer_label</property>
+                <style>
+                 <class name="dim-label"/>
+                </style>
+              </object>
+              <packing>
+                <property name="top-attach">1</property>
+                <property name="left-attach">1</property>
+              </packing>
+            </child>
+            <child>
+              <object class="GtkLabel" id="computer_label">
+                <property name="visible">True</property>
+                <property name="can_focus">False</property>
+                <property name="xalign">0</property>
+                <property name="label">Unknown</property>
+                <property name="selectable">True</property>
+              </object>
+              <packing>
+                <property name="top-attach">1</property>
+                <property name="left-attach">2</property>
+              </packing>
+            </child>
+            <!-- Model details -->
+            <child>
+              <object class="GtkLabel">
+                <property name="visible">True</property>
+                <property name="can_focus">False</property>
+                <property name="xalign">1</property>
+                <property name="label" translatable="yes">Model</property>
+                <property name="mnemonic_widget">model_label</property>
+                <style>
+                 <class name="dim-label"/>
+                </style>
+              </object>
+              <packing>
+                <property name="top-attach">2</property>
+                <property name="left-attach">1</property>
+              </packing>
+            </child>
+            <child>
+              <object class="GtkLabel" id="model_label">
+                <property name="visible">True</property>
+                <property name="can_focus">False</property>
+                <property name="xalign">0</property>
+                <property name="label">Unknown</property>
+                <property name="selectable">True</property>
+              </object>
+              <packing>
+                <property name="top-attach">2</property>
+                <property name="left-attach">2</property>
+              </packing>
+            </child>
+            <!-- Memory Details -->
             <child>
               <object class="GtkLabel" id="label5">
                 <property name="visible">True</property>
@@ -81,7 +142,7 @@
                 </style>
               </object>
               <packing>
-                <property name="top-attach">1</property>
+                <property name="top-attach">3</property>
                 <property name="left-attach">1</property>
               </packing>
             </child>
@@ -97,7 +158,7 @@
                 </style>
               </object>
               <packing>
-                <property name="top-attach">2</property>
+                <property name="top-attach">4</property>
                 <property name="left-attach">1</property>
               </packing>
             </child>
@@ -112,7 +173,7 @@
                 </style>
               </object>
               <packing>
-                <property name="top-attach">3</property>
+                <property name="top-attach">5</property>
                 <property name="left-attach">1</property>
               </packing>
             </child>
@@ -128,7 +189,7 @@
                 </style>
               </object>
               <packing>
-                <property name="top-attach">4</property>
+                <property name="top-attach">6</property>
                 <property name="left-attach">1</property>
               </packing>
             </child>
@@ -144,7 +205,7 @@
                 </style>
               </object>
               <packing>
-                <property name="top-attach">5</property>
+                <property name="top-attach">7</property>
                 <property name="left-attach">1</property>
               </packing>
             </child>
@@ -160,7 +221,7 @@
                 </style>
               </object>
               <packing>
-                <property name="top-attach">6</property>
+                <property name="top-attach">8</property>
                 <property name="left-attach">1</property>
               </packing>
             </child>
@@ -176,7 +237,7 @@
                 </style>
               </object>
               <packing>
-                <property name="top-attach">7</property>
+                <property name="top-attach">9</property>
                 <property name="left-attach">1</property>
               </packing>
             </child>
@@ -200,7 +261,7 @@
                 <property name="selectable">True</property>
               </object>
               <packing>
-                <property name="top-attach">1</property>
+                <property name="top-attach">3</property>
                 <property name="left-attach">2</property>
               </packing>
             </child>
@@ -213,7 +274,7 @@
                 <property name="selectable">True</property>
               </object>
               <packing>
-                <property name="top-attach">2</property>
+                <property name="top-attach">4</property>
                 <property name="left-attach">2</property>
               </packing>
             </child>
@@ -226,7 +287,7 @@
                 <property name="selectable">True</property>
               </object>
               <packing>
-                <property name="top-attach">3</property>
+                <property name="top-attach">5</property>
                 <property name="left-attach">2</property>
               </packing>
             </child>
@@ -239,7 +300,7 @@
                 <property name="selectable">True</property>
               </object>
               <packing>
-                <property name="top-attach">4</property>
+                <property name="top-attach">6</property>
                 <property name="left-attach">2</property>
               </packing>
             </child>
@@ -252,7 +313,7 @@
                 <property name="selectable">True</property>
               </object>
               <packing>
-                <property name="top-attach">5</property>
+                <property name="top-attach">7</property>
                 <property name="left-attach">2</property>
               </packing>
             </child>
@@ -265,7 +326,7 @@
                 <property name="selectable">True</property>
               </object>
               <packing>
-                <property name="top-attach">6</property>
+                <property name="top-attach">8</property>
                 <property name="left-attach">2</property>
               </packing>
             </child>
@@ -278,7 +339,7 @@
                 <property name="selectable">True</property>
               </object>
               <packing>
-                <property name="top-attach">7</property>
+                <property name="top-attach">9</property>
                 <property name="left-attach">2</property>
               </packing>
             </child>
@@ -303,6 +364,254 @@
             <property name="position">2</property>
           </packing>
         </child>
+        <!-- Pop!_OS-specific UI widgets -->
+        <child>
+          <object class="GtkLabel" id="os_upgrades">
+            <property name="halign">start</property>
+            <property name="use-markup">True</property>
+            <property name="visible">True</property>
+            <property name="margin-top">12</property>
+            <property name="label" translatable="yes">&lt;b&gt;OS Upgrade and Refresh&lt;/b&gt;</property>
+          </object>
+          <packing>
+            <property name="expand">True</property>
+            <property name="fill">True</property>
+            <property name="position">3</property>
+          </packing>
+        </child>
+        <child>
+          <object class="GtkFrame" id="os_upgrades_frame">
+            <property name="visible">True</property>
+            <property name="can_focus">False</property>
+            <property name="label_xalign">0</property>
+            <property name="shadow_type">in</property>
+            <property name="margin_top">6</property>
+            <child>
+              <object class="GtkListBox" id="os_upgrades_listbox">
+                <property name="visible">True</property>
+                <property name="can_focus">True</property>
+                <property name="selection_mode">none</property>
+                <!-- OS upgrade option -->
+                <child>
+                  <object class="GtkListBoxRow" id="os_upgrades_row">
+                    <property name="visible">True</property>
+                    <property name="can_focus">True</property>
+                    <child>
+                      <object class="GtkBox" id="os_upgrades_box">
+                        <property name="visible">True</property>
+                        <property name="can_focus">False</property>
+                        <property name="spacing">50</property>
+                        <child>
+                          <object class="GtkLabel" id="os_upgrade_label">
+                            <property name="visible">True</property>
+                            <property name="can_focus">False</property>
+                            <property name="margin_start">20</property>
+                            <property name="margin_end">20</property>
+                            <property name="margin_top">6</property>
+                            <property name="margin_bottom">6</property>
+                            <property name="xalign">0.0</property>
+                            <property name="label" translatable="yes">Pop!__OS 19.04 is available</property>
+                            <property name="use_underline">True</property>
+                            <property name="mnemonic_widget">os_upgrade_button</property>
+                          </object>
+                          <packing>
+                            <property name="expand">True</property>
+                            <property name="fill">True</property>
+                            <property name="position">0</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <object class="GtkButton" id="os_upgrade_button">
+                            <property name="visible">True</property>
+                            <property name="can_focus">False</property>
+                            <property name="valign">center</property>
+                            <property name="margin_start">20</property>
+                            <property name="margin_end">20</property>
+                            <signal name="clicked" handler="pop_upgrade" object="CcInfoOverviewPanel" swapped="no"/>
+                            <child>
+                              <object class="GtkLabel">
+                                <property name="use-markup">True</property>
+                                <property name="visible">True</property>
+                                <property name="label" translatable="yes">&lt;b&gt;Upgrade&lt;/b&gt;</property>
+                              </object>
+                            </child>
+                            <style>
+                              <class name="suggested-action"/>
+                            </style>
+                          </object>
+                          <packing>
+                            <property name="expand">False</property>
+                            <property name="fill">True</property>
+                            <property name="position">1</property>
+                          </packing>
+                        </child>
+                      </object>
+                    </child>
+                  </object>
+                </child>
+                <!-- End of OS upgrade option / Beginning of OS refresh option -->
+                <child>
+                  <object class="GtkListBoxRow" id="os_refresh_row">
+                    <property name="visible">True</property>
+                    <property name="can_focus">True</property>
+                    <child>
+                      <object class="GtkBox" id="os_refresh_box">
+                        <property name="visible">True</property>
+                        <property name="can_focus">False</property>
+                        <property name="spacing">50</property>
+                        <child>
+                          <object class="GtkLabel" id="os_refresh_label">
+                            <property name="visible">True</property>
+                            <property name="can_focus">False</property>
+                            <property name="margin_start">20</property>
+                            <property name="margin_end">20</property>
+                            <property name="margin_top">6</property>
+                            <property name="margin_bottom">6</property>
+                            <property name="xalign">0</property>
+                            <property name="label" translatable="yes">Refresh OS Install</property>
+                            <property name="use_underline">True</property>
+                            <property name="mnemonic_widget">os_refresh_button</property>
+                          </object>
+                          <packing>
+                            <property name="expand">True</property>
+                            <property name="fill">True</property>
+                            <property name="position">0</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <object class="GtkButton" id="os_refresh_button">
+                            <property name="visible">True</property>
+                            <property name="can_focus">False</property>
+                            <property name="valign">center</property>
+                            <property name="margin_start">20</property>
+                            <property name="margin_end">20</property>
+                            <signal name="clicked" handler="pop_refresh" object="CcInfoOverviewPanel" swapped="no"/>
+                            <child>
+                              <object class="GtkLabel">
+                                <property name="use-markup">True</property>
+                                <property name="visible">True</property>
+                                <property name="label" translatable="yes">&lt;b&gt;Refresh&lt;/b&gt;</property>
+                              </object>
+                            </child>
+                            <style>
+                              <class name="suggested-action"/>
+                            </style>
+                          </object>
+                          <packing>
+                            <property name="expand">False</property>
+                            <property name="fill">True</property>
+                            <property name="position">1</property>
+                          </packing>
+                        </child>
+                      </object>
+                    </child>
+                  </object>
+                </child>
+                <!-- End of OS refresh option -->
+              </object>
+            </child>
+          </object>
+          <packing>
+            <property name="expand">False</property>
+            <property name="fill">True</property>
+            <property name="position">4</property>
+          </packing>
+        </child>
+        <!-- Firmware Option -->
+        <child>
+          <object class="GtkLabel" id="firmware_upgrade">
+            <property name="halign">start</property>
+            <property name="use-markup">True</property>
+            <property name="visible">True</property>
+            <property name="margin-top">12</property>
+            <property name="label" translatable="yes">&lt;b&gt;Computer Firmware&lt;/b&gt;</property>
+          </object>
+          <packing>
+            <property name="expand">True</property>
+            <property name="fill">True</property>
+            <property name="position">5</property>
+          </packing>
+        </child>
+        <child>
+          <object class="GtkFrame" id="firmware_upgrade_frame">
+            <property name="visible">True</property>
+            <property name="can_focus">False</property>
+            <property name="label_xalign">0</property>
+            <property name="shadow_type">in</property>
+            <property name="margin_top">6</property>
+            <child>
+              <object class="GtkListBox" id="firmware_upgrade_listbox">
+                <property name="visible">True</property>
+                <property name="can_focus">True</property>
+                <property name="selection_mode">none</property>
+                <!-- Firmware upgrade option -->
+                <child>
+                  <object class="GtkListBoxRow" id="firmware_upgrade_row">
+                    <property name="visible">True</property>
+                    <property name="can_focus">True</property>
+                    <child>
+                      <object class="GtkBox" id="firmware_upgrade_box">
+                        <property name="visible">True</property>
+                        <property name="can_focus">False</property>
+                        <property name="spacing">50</property>
+                        <child>
+                          <object class="GtkLabel" id="firmware_upgrade_label">
+                            <property name="visible">True</property>
+                            <property name="can_focus">False</property>
+                            <property name="margin_start">20</property>
+                            <property name="margin_end">20</property>
+                            <property name="margin_top">6</property>
+                            <property name="margin_bottom">6</property>
+                            <property name="xalign">0</property>
+                            <property name="label" translatable="yes">Computer Firmware Available</property>
+                            <property name="use_underline">True</property>
+                            <property name="mnemonic_widget">firmware_button</property>
+                          </object>
+                          <packing>
+                            <property name="expand">True</property>
+                            <property name="fill">True</property>
+                            <property name="position">0</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <object class="GtkButton" id="firmware_button">
+                            <property name="visible">True</property>
+                            <property name="can_focus">False</property>
+                            <property name="valign">center</property>
+                            <property name="margin_start">20</property>
+                            <property name="margin_end">20</property>
+                            <signal name="clicked" handler="pop_firmware_upgrade" object="CcInfoOverviewPanel" swapped="no"/>
+                            <child>
+                              <object class="GtkLabel">
+                                <property name="use-markup">True</property>
+                                <property name="visible">True</property>
+                                <property name="label" translatable="yes">&lt;b&gt;Upgrade&lt;/b&gt;</property>
+                              </object>
+                            </child>
+                            <style>
+                              <class name="suggested-action"/>
+                            </style>
+                          </object>
+                          <packing>
+                            <property name="expand">False</property>
+                            <property name="fill">True</property>
+                            <property name="position">1</property>
+                          </packing>
+                        </child>
+                      </object>
+                    </child>
+                  </object>
+                </child>
+              </object>
+            </child>
+          </object>
+          <packing>
+            <property name="expand">False</property>
+            <property name="fill">True</property>
+            <property name="position">6</property>
+          </packing>
+        </child>
+        <!-- End of Pop!_OS changes -->
         <child>
           <object class="GtkButtonBox" id="hbuttonbox1">
             <property name="visible">True</property>
--- gnome-control-center-3.30.2.orig/panels/info/meson.build
+++ gnome-control-center-3.30.2/panels/info/meson.build
@@ -41,7 +41,9 @@ sources = files(gsd_sources) + files(
   'cc-info-default-apps-panel.c',
   'cc-info-overview-panel.c',
   'cc-info-removable-media-panel.c',
-  'info-cleanup.c'
+  'dmi-info.c',
+  'firmware-upgrade.c',
+  'info-cleanup.c',
 )
 
 resource_data = files(
